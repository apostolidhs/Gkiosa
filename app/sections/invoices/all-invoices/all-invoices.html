<div>
  <div class="row">

  <div class="col-xs-12 gks-all-controllers">
    <a href="#" class="btn btn-success"
      ui-sref="invoices.invoice({invoiceId: 'new', vector: allInvoicesCtrl.vector })">
      <i class="fa fa-plus"></i> Νέο τιμολόγιο
    </a>
  </div>

  <div class="col-xs-12" cg-busy="allInvoicesCtrl.promise">
    <table ng-table="allInvoicesCtrl.invoicesTableParams" show-filter="true" class="els-all-receipts table table-bordered table-striped table-hover">
      <colgroup>
        <col width="25%" />
        <col width="15%" />
        <col width="15%" />
        <col width="15%" />
        <col width="15%" />
        <col width="5%" />
        <col width="10%" />
      </colgroup>
      <tr ng-repeat="row in $data track by row._id">
        <td title="'Χρήστης'" filter="{'user.name': 'text'}" sortable="'user.name'">{{row.user.name}}</td>
        <td title="'Α.Φ.Μ'" filter="{'user.vat': 'text'}" sortable="'user.vat'">{{row.user.vat}}</td>
        <td title="'Ημερομηνία'" filter="{date: 'components/table-custom-filters/date.html'}" sortable="'date'">
          {{row.date | date: 'd/M/yyyy HH:mm:ss'}}
        </td>
        <td title="'Πιστωτικό'" filter="{credit: 'components/table-custom-filters/boolean.html'}" sortable="'credit'">
          <span ng-if="row.credit"><i class="fa fa-check"></i></span>
          <span ng-if="!row.credit"><i class="fa fa-times"></i></span>
        </td>
        <td title="'Τιμολόγιο'" filter="{invoiceNum: 'number'}" sortable="'invoiceNum'">{{row.invoiceNum}}</td>
        <td title="'Προιόντα'">
          {{row.products.length}}
          <button type="button" ng-click="allInvoicesCtrl.expandInvoice($event, row)" class="btn btn-default btn-xs" title="Προιόντα"><i class="fa fa-chevron-down"></i></button>
        </td>
        <td>
          <button type="button" ng-click="allInvoicesCtrl.editInvoice(row)" class="btn btn-primary btn-sm" title="Επεξεργασία"><i class="fa fa-pencil"></i></button>
          <button type="button" ng-click="allInvoicesCtrl.deleteInvoice(row)" class="btn btn-danger btn-sm" title="Διαγραφή"><i class="fa fa-trash-o"></i></button>
        </td>
      </tr>
      <tr style="display: none;" class="gks-expanded-invoice well">
        <td colspan="100">

          <table ng-table="allInvoicesCtrl.invoiceProductsTableParams" show-filter="true" class="table table-bordered table-striped table-hover">
            <colgroup>
<!--               <col width="25%" />
              <col width="15%" /> -->
            </colgroup>
            <tr ng-repeat="prRow in $data">
              <td title="'Όνομα'" filter="{name: 'text'}" sortable="'name'">{{prRow.name}}</td>
              <td title="'Αναγνωριστικό'" filter="{productId: 'text'}" sortable="'productId'">{{prRow.productId}}</td>
              <td title="'Φ.Π.Α.'" filter="{vat: 'number'}" sortable="'vat'">{{prRow.vat}}%</td>
              <td title="'Τιμή'" filter="{price: 'number'}" sortable="'price'">{{prRow.price}}</td>
              <td title="'Ποσότητα'" filter="{quantity: 'number'}" sortable="'quantity'">{{prRow.quantity}}</td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
    <span ng-hide="allInvoicesCtrl.items.length">Δεν υπάρχουν καταχωρήσεις.</span>
  </div>

  </div>
</div>
